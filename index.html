<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- SEO -->
<title>The DIY Decider ‚Äî Should You DIY or Hire a Pro?</title>
<meta name="description" content="Answer 5 quick questions and get a straight verdict ‚Äî DIY or call a pro. Free AI-powered home improvement advice with no sugarcoating.">
<meta name="keywords" content="DIY or hire a pro, should I DIY, home improvement advice, DIY home repair, hire a contractor, DIY vs professional">
<link rel="canonical" href="https://thediydecider.com/" />

<!-- Open Graph -->
<meta property="og:type" content="website" />
<meta property="og:url" content="https://thediydecider.com/" />
<meta property="og:title" content="The DIY Decider ‚Äî Should You DIY or Hire a Pro?" />
<meta property="og:description" content="Answer 5 quick questions and get a straight verdict ‚Äî DIY or call a pro. Free AI-powered home improvement advice with no sugarcoating." />
<meta property="og:site_name" content="The DIY Decider" />

<!-- Twitter/X Card -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:url" content="https://thediydecider.com/" />
<meta name="twitter:title" content="The DIY Decider ‚Äî Should You DIY or Hire a Pro?" />
<meta name="twitter:description" content="Answer 5 quick questions and get a straight verdict ‚Äî DIY or call a pro. Free AI-powered home improvement advice with no sugarcoating." />

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-THPQQG9ZB4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-THPQQG9ZB4');
</script>

<link href="https://fonts.googleapis.com/css2?family=Anton&family=Archivo+Black&family=Barlow:wght@500;600;700;800;900&display=swap" rel="stylesheet">

<style>
* { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }

:root {
  --bg-dark: #1c1917;
  --rust: #c0392b;
  --rust-dark: #991b1b;
  --caution: #facc15;
  --text-light: #fafaf9;
  --text-muted: #a8a29e;
  --card-bg: #292524;
  --radius: 24px;
}

html, body {
  min-height: 100%;
  min-height: 100dvh;
}

body {
  background: var(--bg-dark);
  font-family: 'Barlow', sans-serif;
  min-height: 100vh;
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
  overflow-x: hidden;
}

/* ========================================
   NAV
   ======================================== */
nav {
  width: 100%;
  background: var(--bg-dark);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.5rem;
  position: relative;
  z-index: 100;
}

.nav-logo {
  font-family: 'Anton', sans-serif;
  font-size: 1.4rem;
  letter-spacing: 0.02em;
  color: #fff;
  text-decoration: none;
}
.nav-logo span { color: var(--caution); }

.nav-links { display: flex; gap: 2rem; }
.nav-links a {
  font-size: 0.9rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--text-muted);
  text-decoration: none;
  transition: color 0.2s;
}
.nav-links a:hover, .nav-links a.active { color: var(--caution); }

/* ========================================
   HEADER BANNER
   ======================================== */
.hero-section {
  width: 100%;
  background: linear-gradient(180deg, var(--rust) 0%, var(--rust-dark) 100%);
  position: relative;
  overflow: hidden;
}

.hero-content {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  padding: 2rem 1.5rem 0;
  position: relative;
  min-height: 280px;
}

.hero-text {
  flex: 1;
  text-align: center;
  padding-bottom: 2rem;
  z-index: 2;
}

.hero-text h1 {
  font-family: 'Archivo Black', sans-serif;
  font-size: clamp(3rem, 12vw, 5rem);
  color: #fff;
  line-height: 0.9;
  text-transform: uppercase;
  text-shadow: 4px 4px 0 rgba(0,0,0,0.2);
}

.hero-text h1 span { 
  color: var(--caution);
  display: block;
}

.hero-text .tagline {
  font-size: clamp(1rem, 3vw, 1.25rem);
  font-weight: 700;
  letter-spacing: 0.15em;
  color: rgba(255,255,255,0.85);
  text-transform: uppercase;
  margin-top: 1rem;
}

/* Character on left */
.hero-character {
  position: absolute;
  left: 0;
  bottom: 0;
  width: 45%;
  max-width: 400px;
  z-index: 3;
}

.hero-character img {
  width: 100%;
  height: auto;
  display: block;
}

/* Caution stripe */
.caution-stripe {
  width: 100%;
  height: 14px;
  background: repeating-linear-gradient(
    -55deg,
    var(--caution) 0px,
    var(--caution) 14px,
    #111 14px,
    #111 28px
  );
}

/* ========================================
   MAIN CONTENT
   ======================================== */
main {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 0 1rem;
  position: relative;
}

/* Character that extends into main area */
.character-extension {
  position: absolute;
  left: 0;
  top: 0;
  width: 40%;
  max-width: 350px;
  pointer-events: none;
  z-index: 1;
}

.character-extension img {
  width: 100%;
  height: auto;
  display: block;
  transform: translateY(-20%);
}

/* ========================================
   CARD
   ======================================== */
.card-wrapper {
  width: 100%;
  max-width: 480px;
  margin: -3rem auto 2rem;
  margin-left: auto;
  margin-right: 1.5rem;
  position: relative;
  z-index: 10;
}

.card {
  background: var(--card-bg);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: 0 25px 80px rgba(0,0,0,0.6);
}

.card-body {
  padding: 2rem 1.75rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

/* ========================================
   FORM ELEMENTS
   ======================================== */
.field-label {
  font-size: 1.1rem;
  font-weight: 800;
  letter-spacing: 0.04em;
  color: var(--text-light);
  text-transform: uppercase;
  text-align: center;
  margin-bottom: 0.5rem;
}

input[type="text"] {
  background: #44403c;
  border: none;
  border-radius: 16px;
  padding: 1rem 1.25rem;
  color: var(--text-light);
  font-family: 'Barlow', sans-serif;
  font-size: 17px;
  font-weight: 500;
  width: 100%;
  outline: none;
  -webkit-appearance: none;
  transition: box-shadow 0.2s;
}

input[type="text"]::placeholder {
  color: #78716c;
}

input[type="text"]:focus { 
  box-shadow: 0 0 0 3px rgba(250, 204, 21, 0.3);
}

.error-msg {
  color: #fca5a5;
  font-size: 0.95rem;
  font-weight: 700;
  text-align: center;
}

/* ========================================
   BUTTONS
   ======================================== */
.btn-main {
  background: var(--caution);
  color: #1c1917;
  border: none;
  border-radius: 16px;
  padding: 1.1rem;
  font-family: 'Archivo Black', sans-serif;
  font-size: 1.25rem;
  text-transform: uppercase;
  cursor: pointer;
  width: 100%;
  transition: transform 0.1s, filter 0.1s;
  box-shadow: 0 4px 0 #ca8a04;
}

.btn-main:active {
  transform: translateY(2px);
  box-shadow: 0 2px 0 #ca8a04;
}

.btn-main:disabled {
  background: #57534e;
  color: #a8a29e;
  box-shadow: none;
  cursor: not-allowed;
}

/* ========================================
   LOADING
   ======================================== */
.loading-section { 
  text-align: center; 
  padding: 2.5rem 0; 
}

.spinner {
  display: inline-block;
  width: 48px; 
  height: 48px;
  border: 4px solid #44403c;
  border-top-color: var(--caution);
  border-radius: 50%;
  animation: spin 0.7s linear infinite;
  margin-bottom: 1.25rem;
}

@keyframes spin { to { transform: rotate(360deg); } }

.loading-section p {
  font-size: 1rem;
  font-weight: 700;
  color: var(--text-muted);
  letter-spacing: 0.06em;
  text-transform: uppercase;
}

/* ========================================
   QUESTIONS
   ======================================== */
.progress-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
}

.progress-badge {
  font-size: 0.9rem;
  font-weight: 800;
  letter-spacing: 0.06em;
  color: var(--caution);
  text-transform: uppercase;
}

.progress-pct {
  font-size: 0.85rem;
  font-weight: 700;
  color: var(--text-muted);
  text-transform: uppercase;
}

.progress-bar {
  height: 8px;
  background: #44403c;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--rust) 0%, var(--caution) 100%);
  width: 0%;
  transition: width 0.4s ease;
  border-radius: 8px;
}

.question-text {
  font-size: clamp(1.25rem, 4.5vw, 1.5rem);
  font-weight: 700;
  color: var(--text-light);
  line-height: 1.4;
  text-align: center;
  min-height: 3.5rem;
}

.question-buttons {
  display: flex;
  gap: 0.75rem;
  margin-top: 1rem;
}

.btn-yes, .btn-no {
  flex: 1;
  padding: 1rem;
  font-family: 'Archivo Black', sans-serif;
  font-size: 1.15rem;
  cursor: pointer;
  border: none;
  border-radius: 14px;
  transition: transform 0.1s;
}

.btn-yes {
  background: #22c55e;
  color: #fff;
  box-shadow: 0 4px 0 #15803d;
}

.btn-no {
  background: var(--rust);
  color: #fff;
  box-shadow: 0 4px 0 var(--rust-dark);
}

.btn-yes:active, .btn-no:active {
  transform: translateY(2px);
}

.btn-yes:active { box-shadow: 0 2px 0 #15803d; }
.btn-no:active { box-shadow: 0 2px 0 var(--rust-dark); }

/* DOTS */
.dots {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-top: 1.25rem;
}

.dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #44403c;
  transition: all 0.3s;
}

.dot.done { 
  background: var(--caution); 
}

.dot.active { 
  background: var(--rust); 
  animation: pulse 1.2s infinite;
}

@keyframes pulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(192,57,43,0.5); }
  50% { box-shadow: 0 0 0 6px rgba(192,57,43,0); }
}

/* ========================================
   DELIBERATING
   ======================================== */
.deliberating-section {
  text-align: center;
  padding: 1.5rem 0;
}

.wheel-wrap {
  position: relative;
  width: 140px;
  height: 140px;
  margin: 0 auto 1.25rem;
}

.wheel-glow {
  position: absolute;
  inset: -15px;
  background: radial-gradient(circle, rgba(250,204,21,0.2) 0%, transparent 70%);
  border-radius: 50%;
}

#wheelSvg {
  display: block;
  margin: 0 auto;
  filter: drop-shadow(0 4px 12px rgba(0,0,0,0.4));
  transition: transform 0.6s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.wheel-pointer {
  position: absolute;
  top: -8px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 10px solid transparent;
  border-right: 10px solid transparent;
  border-top: 16px solid var(--caution);
  filter: drop-shadow(0 2px 3px rgba(0,0,0,0.4));
}

.deliberating-phrase {
  font-size: 1rem;
  font-weight: 700;
  color: var(--text-muted);
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

/* ========================================
   VERDICT
   ======================================== */
.verdict-section {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.verdict-banner {
  padding: 1.5rem;
  text-align: center;
  border-radius: 16px;
}

.verdict-emoji {
  font-size: 3rem;
  margin-bottom: 0.25rem;
}

.verdict-label {
  font-family: 'Archivo Black', sans-serif;
  font-size: clamp(1.6rem, 6vw, 2rem);
  line-height: 1;
}

.verdict-tagline {
  font-size: 1rem;
  font-weight: 700;
  margin-top: 0.3rem;
  opacity: 0.85;
}

/* INFO BLOCKS */
.info-block {
  background: #1c1917;
  border-left: 4px solid var(--rust);
  padding: 1rem 1.25rem;
  border-radius: 0 12px 12px 0;
}

.info-block-label {
  font-size: 0.8rem;
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--rust);
  margin-bottom: 0.4rem;
}

.info-block p {
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-light);
  line-height: 1.55;
}

/* RESET */
.btn-reset {
  display: block;
  width: 100%;
  background: transparent;
  border: 2px solid #44403c;
  border-radius: 14px;
  padding: 0.9rem;
  color: var(--text-muted);
  font-size: 0.95rem;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  cursor: pointer;
  transition: all 0.2s;
}

.btn-reset:hover {
  border-color: var(--caution);
  color: var(--caution);
}

/* ========================================
   UTILITIES
   ======================================== */
.hidden { display: none !important; }

/* ========================================
   RESPONSIVE - MOBILE FIRST
   ======================================== */

/* Mobile: stack layout, character behind */
@media (max-width: 768px) {
  .hero-content {
    flex-direction: column;
    align-items: center;
    min-height: 220px;
    padding: 1.5rem 1rem 0;
  }
  
  .hero-text {
    padding-bottom: 1.5rem;
  }
  
  .hero-character {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 60%;
    max-width: 280px;
    opacity: 0.2;
    z-index: 1;
  }
  
  .hero-text {
    z-index: 2;
  }
  
  .character-extension {
    display: none;
  }
  
  .card-wrapper {
    margin: -2rem auto 2rem;
    margin-left: auto;
    margin-right: auto;
    max-width: 420px;
  }
  
  .card-body {
    padding: 1.75rem 1.5rem;
  }
  
  nav {
    padding: 0.9rem 1rem;
  }
  
  .nav-logo {
    font-size: 1.2rem;
  }
  
  .nav-links {
    gap: 1.25rem;
  }
  
  .nav-links a {
    font-size: 0.8rem;
  }
}

/* Desktop: side by side layout */
@media (min-width: 769px) {
  .hero-content {
    padding: 0 2rem;
  }
  
  .hero-text {
    margin-left: 35%;
    text-align: center;
  }
  
  .card-wrapper {
    max-width: 440px;
    margin-right: 5%;
  }
  
  main {
    align-items: flex-end;
    padding-right: 2rem;
  }
}

/* Large desktop */
@media (min-width: 1024px) {
  .hero-character {
    max-width: 450px;
    width: 40%;
  }
  
  .card-wrapper {
    margin-right: 8%;
  }
}
</style>
</head>
<body>

<nav>
  <a href="index.html" class="nav-logo">THE DIY <span>DECIDER</span></a>
  <div class="nav-links">
    <a href="index.html" class="active">Tool</a>
    <a href="about.html">About</a>
  </div>
</nav>

<div class="hero-section">
  <div class="hero-content">
    <div class="hero-character">
      <img src="decider.png" alt="The Decider">
    </div>
    <div class="hero-text">
      <h1>THE DIY <span>DECIDER</span></h1>
      <div class="tagline">5 Questions ¬∑ 1 Verdict ¬∑ Zero BS</div>
    </div>
  </div>
</div>
<div class="caution-stripe"></div>

<main style="margin-top: 1.5rem;">
  <div class="card-wrapper">
    <div class="card">
      <div class="card-body">

        <!-- STAGE: INPUT -->
        <div id="stage-input">
          <label class="field-label" for="projectInput">What's the project?</label>
          <input type="text" id="projectInput" placeholder="e.g. Replace a leaky faucet..." autocomplete="off" />
          <p class="error-msg hidden" id="errorMsg"></p>
          <button class="btn-main" onclick="startProject()">Size Me Up</button>
        </div>

        <!-- STAGE: LOADING -->
        <div id="stage-loading-q" class="loading-section hidden">
          <div class="spinner"></div>
          <p>Analyzing your project...</p>
        </div>

        <!-- STAGE: QUESTIONS -->
        <div id="stage-questions" class="hidden">
          <div class="progress-header">
            <span class="progress-badge" id="progressBadge">Question 1 of 5</span>
            <span class="progress-pct" id="progressPct">Just getting started</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
          </div>
          <p class="question-text" id="questionText"></p>
          <div class="question-buttons">
            <button class="btn-yes" onclick="submitAnswer('Yes')">‚úì Yes</button>
            <button class="btn-no" onclick="submitAnswer('No')">‚úó No</button>
          </div>
          <div class="dots" id="dots"></div>
        </div>

        <!-- DELIBERATING -->
        <div id="stage-deliberating" class="deliberating-section hidden">
          <div class="wheel-wrap">
            <div class="wheel-glow"></div>
            <svg id="wheelSvg" width="130" height="130" viewBox="0 0 130 130"></svg>
            <div class="wheel-pointer"></div>
          </div>
          <p class="deliberating-phrase" id="deliberatingPhrase">Cross-referencing your answers...</p>
        </div>

        <!-- VERDICT -->
        <div id="stage-verdict" class="verdict-section hidden">
          <div class="verdict-banner" id="verdictBanner">
            <div class="verdict-emoji" id="verdictEmoji"></div>
            <div class="verdict-label" id="verdictLabel"></div>
            <div class="verdict-tagline" id="verdictTagline"></div>
          </div>
          <div class="info-block">
            <div class="info-block-label" id="reasoningLabel">üí¨ The Verdict</div>
            <p id="reasoningText"></p>
          </div>
          <div class="info-block" style="border-left-color:#78716c">
            <div class="info-block-label" style="color:#78716c">üí∞ Pro Cost</div>
            <p id="costText"></p>
          </div>
          <div class="info-block hidden" id="resourcesBlock" style="border-left-color:#22c55e">
            <div class="info-block-label" style="color:#22c55e">üìö Where to Learn</div>
            <p id="resourcesText"></p>
          </div>
          <button class="btn-reset" onclick="reset()">‚Üê Try Another Project</button>
        </div>

      </div>
    </div>
  </div>
</main>

<script>
const PHRASES = [
  "Cross-referencing your answers...",
  "Consulting 40 years of experience...",
  "Running the numbers...",
  "Checking if you're kidding...",
  "Almost ready to judge you...",
  "The verdict is in.",
];

let questions = [], answers = [], currentQ = 0;
let wheelRotation = 0, wheelInterval = null, wheelTimeout = null;
let phraseIndex = 0, pendingResult = null, wheelDone = false;

// Build wheel
(function buildWheel() {
  const svg = document.getElementById('wheelSvg');
  const fills = ["#c0392b","#1c1917","#dc2626","#0c0a09","#c0392b","#1c1917","#dc2626","#0c0a09"];
  const count = fills.length, r = 54, cx = 65, cy = 65;
  fills.forEach((fill, i) => {
    const angle = 360 / count;
    const s = (i * angle - 90) * Math.PI / 180;
    const e = ((i * angle - 90) + angle) * Math.PI / 180;
    const x1 = cx + r * Math.cos(s), y1 = cy + r * Math.sin(s);
    const x2 = cx + r * Math.cos(e), y2 = cy + r * Math.sin(e);
    const path = document.createElementNS("http://www.w3.org/2000/svg","path");
    path.setAttribute("d", `M ${cx} ${cy} L ${x1} ${y1} A ${r} ${r} 0 0 1 ${x2} ${y2} Z`);
    path.setAttribute("fill", fill);
    path.setAttribute("stroke", "#292524");
    path.setAttribute("stroke-width", "2");
    svg.appendChild(path);
  });
  const hub = document.createElementNS("http://www.w3.org/2000/svg","circle");
  hub.setAttribute("cx",65); hub.setAttribute("cy",65); hub.setAttribute("r",16);
  hub.setAttribute("fill","#292524"); hub.setAttribute("stroke","#44403c"); hub.setAttribute("stroke-width","2");
  svg.appendChild(hub);
  const dot = document.createElementNS("http://www.w3.org/2000/svg","circle");
  dot.setAttribute("cx",65); dot.setAttribute("cy",65); dot.setAttribute("r",7); dot.setAttribute("fill","#facc15");
  svg.appendChild(dot);
})();

function showStage(name) {
  ['input','loading-q','questions','deliberating','verdict'].forEach(s => {
    document.getElementById('stage-'+s).classList.add('hidden');
  });
  document.getElementById('stage-'+name).classList.remove('hidden');
}

function showError(msg) {
  const el = document.getElementById('errorMsg');
  el.textContent = msg;
  el.classList.remove('hidden');
}
function hideError() { document.getElementById('errorMsg').classList.add('hidden'); }

function updateDots() {
  const c = document.getElementById('dots');
  c.innerHTML = '';
  for (let i = 0; i < 5; i++) {
    const d = document.createElement('div');
    d.className = 'dot ' + (i < currentQ ? 'done' : i === currentQ ? 'active' : '');
    c.appendChild(d);
  }
}

function updateProgress() {
  document.getElementById('progressBadge').textContent = `Question ${currentQ+1} of 5`;
  const labels = ["Just getting started", "25% done", "Halfway there", "Almost done", "Last one"];
  document.getElementById('progressPct').textContent = labels[currentQ] || '';
  document.getElementById('progressFill').style.width = `${(currentQ/5)*100}%`;
  updateDots();
}

async function startProject() {
  const project = document.getElementById('projectInput').value.trim();
  if (!project) return;
  hideError();
  showStage('loading-q');
  gtag('event', 'project_started', { project_name: project });

  try {
    const res = await fetch("/questions", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ project })
    });
    const data = await res.json();
    if (data.error) { showError("Error: " + data.error); showStage('input'); return; }
    questions = data.questions.slice(0, 5);
    answers = []; currentQ = 0;
    showStage('questions');
    document.getElementById('questionText').textContent = questions[0].q;
    updateProgress();
  } catch(e) {
    showError("Error: " + (e.message || "Something went wrong"));
    showStage('input');
  }
}

async function submitAnswer(answer) {
  answers.push(answer);
  if (currentQ < 4) {
    currentQ++;
    document.getElementById('questionText').textContent = questions[currentQ].q;
    updateProgress();
  } else {
    wheelDone = false; pendingResult = null;
    showStage('deliberating');
    startWheel();
    const project = document.getElementById('projectInput').value.trim();
    try {
      const res = await fetch("/verdict", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ project, questions, answers })
      });
      const data = await res.json();
      if (data.error) { stopWheel(); showError("Error: " + data.error); showStage('input'); return; }
      if (wheelDone) { showVerdict(data); } else { pendingResult = data; }
    } catch(e) {
      stopWheel();
      showError("Couldn't get verdict: " + (e.message || "Try again"));
      showStage('input');
    }
  }
}

function startWheel() {
  const svg = document.getElementById('wheelSvg');
  phraseIndex = 0;
  document.getElementById('deliberatingPhrase').textContent = PHRASES[0];
  wheelInterval = setInterval(() => {
    phraseIndex = Math.min(phraseIndex + 1, PHRASES.length - 1);
    document.getElementById('deliberatingPhrase').textContent = PHRASES[phraseIndex];
    wheelRotation += 55 + Math.random() * 30;
    svg.style.transform = `rotate(${wheelRotation}deg)`;
  }, 1100);
  wheelTimeout = setTimeout(() => {
    stopWheel();
    wheelDone = true;
    if (pendingResult) setTimeout(() => showVerdict(pendingResult), 400);
  }, 7000);
}

function stopWheel() {
  clearInterval(wheelInterval);
  clearTimeout(wheelTimeout);
}

function showVerdict(data) {
  const isDIY = data.verdict === "DIY";

  const banner = document.getElementById('verdictBanner');
  banner.style.background = isDIY ? 'rgba(34, 197, 94, 0.15)' : 'rgba(192, 57, 43, 0.15)';

  document.getElementById('verdictEmoji').textContent = isDIY ? "üî®" : "üìû";
  document.getElementById('verdictLabel').textContent = isDIY ? "DO IT YOURSELF" : "CALL A PRO";
  document.getElementById('verdictLabel').style.color = isDIY ? '#22c55e' : '#ef4444';
  document.getElementById('verdictTagline').textContent = isDIY ? "You've got this." : "Know your limits.";
  document.getElementById('verdictTagline').style.color = isDIY ? '#22c55e' : '#ef4444';

  document.getElementById('reasoningLabel').style.color = isDIY ? '#22c55e' : '#ef4444';
  document.getElementById('reasoningText').textContent = data.reasoning;
  document.getElementById('costText').textContent = data.cost;

  if (isDIY && data.resources) {
    document.getElementById('resourcesText').textContent = data.resources;
    document.getElementById('resourcesBlock').classList.remove('hidden');
  } else {
    document.getElementById('resourcesBlock').classList.add('hidden');
  }

  gtag('event', 'verdict_received', { verdict: data.verdict });
  showStage('verdict');
}

function reset() {
  stopWheel();
  questions = []; answers = []; currentQ = 0;
  wheelDone = false; pendingResult = null; wheelRotation = 0;
  document.getElementById('projectInput').value = '';
  hideError();
  showStage('input');
}

document.getElementById('projectInput').addEventListener('keydown', function(e) {
  if (e.key === 'Enter') startProject();
});
</script>
</body>
</html>
